(function(){"use strict";var e={6462:function(e,t,i){var s=i(9242),r=i(3396);function o(e,t,i,s,o,l){const n=(0,r.up)("MainView"),a=(0,r.up)("Preloader");return e.isLoaded?((0,r.wg)(),(0,r.j4)(n,{key:0})):((0,r.wg)(),(0,r.j4)(a,{key:1}))}var l=i(2482),n=i(6520);const a={class:"wrapper"},c={class:"main-view",ref:"scroll_wrapper_ref"},d={class:"content-wrapper"},h=(0,r.Uk)(" Добавление товара "),u={class:"main-area-wrapper"},p={class:"adding-product-area"},m={class:"products-catalog-wrapper"},g={class:"products-catalog"};function v(e,t,i,o,l,n){const v=(0,r.up)("SortSelectComponent"),f=(0,r.up)("MainHeader"),w=(0,r.up)("AddNewProductComponent"),b=(0,r.up)("ProductCard"),x=(0,r.up)("ScrollbarComponent");return(0,r.wg)(),(0,r.iD)("div",a,[(0,r._)("div",c,[(0,r._)("div",d,[(0,r.Wm)(f,null,{title:(0,r.w5)((()=>[h])),button:(0,r.w5)((()=>[(0,r.Wm)(v,{itemsList:e.sortTypes,itemsStates:e.sortStates,onChangeSort:e.changeSortType},null,8,["itemsList","itemsStates","onChangeSort"])])),_:1}),(0,r._)("div",u,[(0,r._)("div",p,[(0,r.Wm)(w,{onClicked:e.addNewCard},null,8,["onClicked"])]),(0,r._)("div",m,[(0,r._)("div",g,[(0,r.Wm)(s.W3,{name:"list"},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.products,(t=>((0,r.wg)(),(0,r.j4)(b,{ref_for:!0,ref:`card_ref_${t.id}`,key:t.id,card:t,onRemoveClicked:e.removeCard},null,8,["card","onRemoveClicked"])))),128))])),_:1})])])])])],512),e.scroll_wrapper_ref?((0,r.wg)(),(0,r.j4)(x,{key:0,"scroll-element":e.scroll_wrapper_ref},null,8,["scroll-element"])):(0,r.kq)("",!0)])}const f={class:"add-new-product-component"};function w(e,t,i,s,o,l){const n=(0,r.up)("InputDataComponent"),a=(0,r.up)("ButtonComponent");return(0,r.wg)(),(0,r.iD)("div",f,[(0,r.Wm)(n,{index:0,onChanged:e.changed,title:"Наименование товара",textFieldPlaceholder:"Введите наименование товара",text:e.textFieldsData[0],isError:e.isFieldsError[0],isDataRequired:""},null,8,["onChanged","text","isError"]),(0,r.Wm)(n,{index:1,onChanged:e.changed,title:"Описание товара",textFieldPlaceholder:"Введите описание товара",text:e.textFieldsData[1],isTextFieldMultiline:""},null,8,["onChanged","text"]),(0,r.Wm)(n,{index:2,onChanged:e.changed,title:"Ссылка на изображение товара",textFieldPlaceholder:"Введите ссылку",text:e.textFieldsData[2],isError:e.isFieldsError[2],isDataRequired:""},null,8,["onChanged","text","isError"]),(0,r.Wm)(n,{index:3,title:"Цена товара",onChanged:e.changed,textFieldPlaceholder:"Введите цену",text:e.textFieldsData[3],isError:e.isFieldsError[3],isPrice:"",isDataRequired:""},null,8,["onChanged","text","isError"]),(0,r.Wm)(a,{title:"Добавить товар",isActive:e.isConfirmButtonActive,onClick:e.clicked},null,8,["isActive","onClick"])])}var b=i(7139);const x={class:"input-data-component"},E={class:"title"},y={key:0,class:"requiring-marker"},C={key:0,class:"error"};function k(e,t,i,s,o,l){const n=(0,r.up)("InputFieldComponent");return(0,r.wg)(),(0,r.iD)("div",x,[(0,r._)("div",E,[(0,r.Uk)((0,b.zw)(e.title)+" ",1),e.isDataRequired?((0,r.wg)(),(0,r.iD)("div",y)):(0,r.kq)("",!0)]),(0,r.Wm)(n,{isTextFieldMultiline:e.isTextFieldMultiline,placeholder:e.textFieldPlaceholder,isPrice:e.isPrice,text:e.text,onChanged:e.changed},null,8,["isTextFieldMultiline","placeholder","isPrice","text","onChanged"]),e.isError?((0,r.wg)(),(0,r.iD)("div",C," Поле является обязательным ")):(0,r.kq)("",!0)])}const _={class:"input-field-component"},M=["value","placeholder"],F=["value","placeholder"];function D(e,t,i,s,o,l){return(0,r.wg)(),(0,r.iD)("div",_,[e.isTextFieldMultiline?((0,r.wg)(),(0,r.iD)("textarea",{key:1,class:"input-field-multiline",value:e.text,onInput:t[1]||(t[1]=(...t)=>e.change&&e.change(...t)),placeholder:e.placeholder},"\r\n    ",40,F)):((0,r.wg)(),(0,r.iD)("input",{key:0,class:"input-field",value:e.text,onInput:t[0]||(t[0]=(...t)=>e.change&&e.change(...t)),placeholder:e.placeholder},null,40,M))])}function S(e){return e.toString().replace(/ /g,"").replace(/(\d)(?=(\d{3})+(\D|$))/g,"$1 ")}var I,B;let T=(I=(0,n.Ei)({components:{},props:{text:{type:String,default:""},isTextFieldMultiline:{type:Boolean,default:!1},placeholder:{type:String,default:""},isPrice:{type:Boolean,default:!1}},emits:["changed"],watch:{}}),I(B=class extends n.w3{constructor(...e){super(...e),(0,l.Z)(this,"currentText","")}change(e){this.$props.isPrice?("0"===e.target.value[0]&&(e.target.value=e.target.value.slice(-(e.target.value.length-1))),this.currentText=S(e.target.value)):this.currentText=e.target.value,this.$emit("changed",this.currentText)}get style(){let e;return e=this.$props.isTextFieldMultiline?1:.5,{"--flex":e}}})||B);var A=i(89);const H=(0,A.Z)(T,[["render",D],["__scopeId","data-v-75dd162f"]]);var P,Z,L=H;let $=(P=(0,n.Ei)({components:{InputFieldComponent:L},props:{index:{type:Number,default:0},title:{type:String,default:""},text:{type:String,default:""},textFieldPlaceholder:{type:String,default:""},isDataRequired:{type:Boolean,default:!1},isTextFieldMultiline:{type:Boolean,default:!1},isError:{type:Boolean,default:!1},isPrice:{type:Boolean,default:!1}},emits:["changed"],watch:{}}),P(Z=class extends n.w3{changed(e){this.$emit("changed",e,this.$props.index)}})||Z);const j=(0,A.Z)($,[["render",k],["__scopeId","data-v-2383faca"]]);var q,W,O=j;function R(e,t,i,s,o,l){return(0,r.wg)(),(0,r.iD)("div",{class:"button-component",style:(0,b.j5)(e.style)},(0,b.zw)(e.title),5)}let z=(q=(0,n.Ei)({components:{},props:{title:{type:String,default:""},isActive:{type:Boolean,default:!0},green:{type:Boolean,default:!0},white:{type:Boolean,default:!0}},emits:[],watch:{}}),q(W=class extends n.w3{get style(){let e,t,i;return this.$props.green&&this.$props.isActive?(e="#7BAE73",t="#FFFFFF",i="#4B7E43"):this.$props.white&&this.$props.isActive?(e="#FFFFFF",t="#B4B4B4",i="#BBBBBB"):(e="#EEEEEE",t="#B4B4B4",i="#EEEEEE"),{"--bg-color":e,"--color":t,"--hover-bg-color":i}}})||W);const U=(0,A.Z)(z,[["render",R],["__scopeId","data-v-01cdccfa"]]);var Y,N,K=U;let V=(Y=(0,n.Ei)({components:{InputDataComponent:O,ButtonComponent:K},props:{},emits:["clicked"],watch:{}}),Y(N=class extends n.w3{constructor(...e){super(...e),(0,l.Z)(this,"isConfirmButtonActive",!1),(0,l.Z)(this,"textFieldsData",new Array(4).fill("")),(0,l.Z)(this,"isFieldsError",new Array(4).fill(!1))}changed(e,t){this.textFieldsData[t]=e,0===this.textFieldsData[0].length||0===this.textFieldsData[2].length||0===this.textFieldsData[3].length?(this.textFieldsData.forEach(((e,t)=>{this.textFieldsData[t].length>0&&(this.isFieldsError[t]=!1)})),this.isConfirmButtonActive=!1):(this.isConfirmButtonActive=!0,this.isFieldsError=new Array(4).fill(!1)),console.log("data",this.textFieldsData)}clicked(){if(this.isConfirmButtonActive){let e={desc:this.textFieldsData[1],id:0,img:this.textFieldsData[2],name:this.textFieldsData[0],price:this.textFieldsData[3]};this.isFieldsError=new Array(4).fill(!1),this.textFieldsData=new Array(4).fill(""),this.isConfirmButtonActive=!1,this.$emit("clicked",e)}else this.textFieldsData.forEach(((e,t)=>{1!==t&&(0===e.length?this.isFieldsError[t]=!0:this.isFieldsError[t]=!1)}))}})||N);const X=(0,A.Z)(V,[["render",w],["__scopeId","data-v-43c03d2c"]]);var G=X,J=i.p+"img/delete.1d0ae866.svg";const Q=e=>((0,r.dD)("data-v-48ac7f44"),e=e(),(0,r.Cn)(),e),ee=["src"],te={class:"card-details"},ie={class:"card-name"},se={class:"card-desc"},re={class:"card-price"},oe=Q((()=>(0,r._)("img",{src:J,alt:"Удалить товар",height:"16",width:"16"},null,-1)));function le(e,t,i,o,l,n){const a=(0,r.up)("ButtonWithIcon");return(0,r.wg)(),(0,r.iD)("div",{class:"product-card",id:"card",onMouseenter:t[0]||(t[0]=t=>e.isCardHovered=!0),onMouseleave:t[1]||(t[1]=t=>e.isCardHovered=!1)},[(0,r._)("img",{class:"card-img",src:e.card.img},null,8,ee),(0,r._)("div",te,[(0,r._)("div",ie,(0,b.zw)(e.card.name),1),(0,r._)("div",se,(0,b.zw)(e.card.desc),1),(0,r._)("div",re,(0,b.zw)(e.splittedPrice)+" руб. ",1)]),(0,r.Wm)(s.uT,{name:"fade"},{default:(0,r.w5)((()=>[e.isItMobile||e.isCardHovered?((0,r.wg)(),(0,r.j4)(a,{key:0,style:{position:"absolute",display:"flex",top:"0",right:"0","z-index":"2",transform:"translate(8px, -8px)"},onClicked:e.removeClicked},{default:(0,r.w5)((()=>[oe])),_:1},8,["onClicked"])):(0,r.kq)("",!0)])),_:1})],32)}function ne(e,t,i,s,o,l){return(0,r.wg)(),(0,r.iD)("div",{class:"button-with-icon",onClick:t[0]||(t[0]=(...t)=>e.clicked&&e.clicked(...t))},[(0,r.WI)(e.$slots,"default",{},void 0,!0)])}var ae,ce;let de=(ae=(0,n.Ei)({components:{},props:{},emits:["clicked"],watch:{}}),ae(ce=class extends n.w3{clicked(){this.$emit("clicked")}})||ce);const he=(0,A.Z)(de,[["render",ne],["__scopeId","data-v-648a9d21"]]);var ue,pe,me=he;let ge=(ue=(0,n.Ei)({components:{ButtonWithIcon:me},props:{card:{type:Object,default:{}}},emits:["removeClicked"],watch:{}}),ue(pe=class extends n.w3{constructor(...e){super(...e),(0,l.Z)(this,"isCardHovered",!1),(0,l.Z)(this,"isItMobile",!1)}mounted(){let e=/Mobi/i.test(window.navigator.userAgent);this.isItMobile=!!e}removeClicked(){this.$emit("removeClicked",this.$props.card)}get splittedPrice(){return S(this.$props.card.price)}})||pe);const ve=(0,A.Z)(ge,[["render",le],["__scopeId","data-v-48ac7f44"]]);var fe=ve;const we=e=>((0,r.dD)("data-v-57de86fb"),e=e(),(0,r.Cn)(),e),be={key:0,class:"vc-scrollbar"},xe=we((()=>(0,r._)("div",{class:"v-scrollbar"},null,-1))),Ee=[xe];function ye(e,t,i,o,l,n){return e.enabled?((0,r.wg)(),(0,r.iD)("div",be,[(0,r._)("div",{class:(0,b.C_)(["v-scrollbar-box",{"v-scrollbar-display":e.scrollbarDisplay,"v-scrollbar-interact":e.scrollbarMouseYPos,"v-hide":!e.display||!e.scrollbarIsRequired}]),ref:"scrollbarBox",onMousedown:t[0]||(t[0]=(0,s.iM)(((...t)=>e.onMouseDownScrollbarBox&&e.onMouseDownScrollbarBox(...t)),["prevent"])),onMousemove:t[1]||(t[1]=(0,s.iM)((()=>{}),["prevent"])),onWheel:t[2]||(t[2]=(0,s.iM)((()=>{}),["prevent"]))},Ee,34)])):(0,r.kq)("",!0)}let Ce=0,ke=null,_e=new Map;function Me(){for(const e of _e.values())e();_e.clear(),ke=null}class Fe{static request(e){null===ke&&(ke=requestAnimationFrame(Me));const t=Ce++;return _e.set(t,e),t}static cancel(e){_e.delete(e)}}class De{constructor(e,t){this.callback=e,this.timeout=t,this.canceled=!1}setTimeout(e){this.timeout!==e&&(this.cancelImmediately(),this.timeout=e)}_timeoutFunc(){if(this.canceled)return this.requiredTimeMs=null,this.timerId=null,void(this.canceled=!1);if(this.requiredTimeMs){const e=(new Date).getTime();return clearTimeout(this.timerId),this.timerId=setTimeout((()=>this._timeoutFunc()),this.requiredTimeMs-e),void(this.requiredTimeMs=null)}this.timerId=null,this.callback()}run(){if(this.timerId){this.canceled=!1;const e=(new Date).getTime();this.requiredTimeMs=e+this.timeout}else this.timerId=setTimeout((()=>this._timeoutFunc()),this.timeout)}cancel(){this.timerId&&(this.canceled=!0)}cancelImmediately(){this.timerId&&(clearTimeout(this.timerId),this.requiredTimeMs=null,this.timerId=null,this.canceled=!1)}}var Se,Ie;const Be=n.Ei;let Te=(Se=Be({components:{},props:{display:{type:Boolean,default:!0},alwaysDisplay:{type:Boolean,default:!1},scrollElement:HTMLElement,reactiveUpdateParams:0},watch:{reactiveUpdateParams(){this.onScrollBox()},scrollElement(e,t){this.enabled&&this.scrollElement&&(t&&this.freeElement(t),this.initializeElement())}}}),Se(Ie=class extends n.w3{constructor(...e){super(...e),(0,l.Z)(this,"enabled",!0),(0,l.Z)(this,"bodyMode",!0),(0,l.Z)(this,"scrollbarIsRequired",!1),(0,l.Z)(this,"scrollbarDisplay",!1),(0,l.Z)(this,"scrollbarHeight",80),(0,l.Z)(this,"scrollbarMinHeight",80),(0,l.Z)(this,"scrollbarTopOffset",0),(0,l.Z)(this,"scrollbarMouseYPos",null),(0,l.Z)(this,"lastScrollTop",-1),(0,l.Z)(this,"lastClientHeight",-1),(0,l.Z)(this,"lastScrollHeight",-1),(0,l.Z)(this,"lastAnimationFrame",null),(0,l.Z)(this,"timeoutResetterActivateScrollbar",new De((()=>this.scrollbarDisplay=!1),1e3))}updateParamsInTicks(){this.lastAnimationFrame=requestAnimationFrame((()=>{this.updateScrollbarParams(),this.updateParamsInTicks()}))}beforeMount(){-1===navigator.platform.indexOf("Win")&&-1===navigator.platform.indexOf("Mac")&&(this.enabled=!1)}async mounted(){this.enabled&&(this.scrollElement&&this.initializeElement(),this.$refs.scrollbarBox.style.height=this.scrollbarHeight+"px")}initializeElement(){this.scrollElement.classList.add("vc-scrollbar-disable-default"),this.bodyMode=this.scrollElement===document.documentElement,this.alwaysDisplay?this.scrollbarDisplay=!0:(this.scrollbarDisplay=!1,this.scrollElement.addEventListener("mouseenter",this.onMouseEnterBox),this.scrollElement.addEventListener("mousemove",this.onMouseMoveElement),this.activateScrollbar()),this.updateParamsInTicks()}freeElement(e){e.classList.remove("vc-scrollbar-disable-default"),window.removeEventListener("mousemove",this.onMouseMoveWindowScrollbarChange,!1),window.removeEventListener("mouseup",this.onMouseUpWindowScrollbarChange,!1),e.removeEventListener("mouseenter",this.onMouseEnterBox),e.removeEventListener("mousemove",this.onMouseMoveElement),this.lastAnimationFrame&&cancelAnimationFrame(this.lastAnimationFrame),this.timeoutResetterActivateScrollbar.cancel()}beforeUnmount(){this.enabled&&(this.scrollElement&&this.freeElement(this.scrollElement),Fe.cancel(this.animationFrameIdHeightChange),Fe.cancel(this.animationFrameIdScrollbarTopOffset))}onMouseDownScrollbarBox(e){this.scrollbarMouseYPos=e.offsetY,window.addEventListener("mousemove",this.onMouseMoveWindowScrollbarChange,!1),window.addEventListener("mouseup",this.onMouseUpWindowScrollbarChange,!1)}onMouseUpWindowScrollbarChange(){this.scrollbarMouseYPos=null,window.removeEventListener("mousemove",this.onMouseMoveWindowScrollbarChange,!1),window.removeEventListener("mouseup",this.onMouseUpWindowScrollbarChange,!1)}onMouseMoveWindowScrollbarChange(e){this.scrollElement.scrollTo({top:(this.scrollElement.scrollHeight-this.scrollElement.clientHeight)*(e.clientY-(this.scrollElement.getBoundingClientRect().y+(this.bodyMode?this.scrollElement.scrollTop:0))-this.scrollbarMouseYPos)/(this.scrollElement.clientHeight-this.scrollbarHeight)})}onMouseMoveElement(e){Math.abs(e.offsetX-this.scrollElement.getBoundingClientRect().width)<32&&this.activateScrollbar()}onScrollBox(){this.scrollbarMouseYPos||this.updateScrollbarParams()}updateScrollbarParams(){if(this.lastClientHeight==this.scrollElement.clientHeight&&this.lastScrollHeight==this.scrollElement.scrollHeight&&this.lastScrollTop==this.scrollElement.scrollTop)return;if(this.lastClientHeight=this.scrollElement.clientHeight,this.lastScrollHeight=this.scrollElement.scrollHeight,this.lastScrollTop=this.scrollElement.scrollTop,this.scrollElement.scrollHeight<=this.scrollElement.clientHeight)return void(this.scrollbarIsRequired=!1);this.scrollbarIsRequired=!0;let e=this.scrollElement.clientHeight-(this.scrollElement.scrollHeight-this.scrollElement.clientHeight);e<this.scrollbarMinHeight&&(e=this.scrollbarMinHeight),e!==this.scrollbarHeight&&(this.scrollbarHeight=e,Fe.cancel(this.animationFrameIdHeightChange),this.animationFrameIdHeightChange=Fe.request((()=>{this.$refs.scrollbarBox.style.height=e+"px"})));let t=this.scrollElement.scrollHeight,i=this.scrollElement.scrollTop,s=this.scrollElement.clientHeight-this.scrollbarHeight,r=i/(t-this.scrollElement.clientHeight),o=r*s;o!==this.scrollbarTopOffset&&(this.scrollbarTopOffset=o,Fe.cancel(this.animationFrameIdScrollbarTopOffset),this.animationFrameIdScrollbarTopOffset=Fe.request((()=>{this.$refs.scrollbarBox.style.transform=`translateY(${o}px)`}))),this.alwaysDisplay||this.activateScrollbar()}onMouseEnterBox(){this.activateScrollbar()}activateScrollbar(){this.scrollElement.scrollHeight<=this.scrollElement.clientHeight||(this.scrollbarDisplay||(this.scrollbarDisplay=!0),this.timeoutResetterActivateScrollbar.run())}})||Ie);const Ae=(0,A.Z)(Te,[["render",ye],["__scopeId","data-v-57de86fb"]]);var He=Ae,Pe=i.p+"img/chevron.8fe6b11c.svg";const Ze=e=>((0,r.dD)("data-v-27615e3e"),e=e(),(0,r.Cn)(),e),Le={class:"sort-select-component"},$e={class:"main-button",id:"main-button"},je=Ze((()=>(0,r._)("div",{class:"chevron-container"},[(0,r._)("img",{src:Pe,id:"chevron-icon",alt:"Удалить товар",height:"8",width:"8"})],-1))),qe={key:0,class:"sub-block",id:"sub-block"},We=["checked","onChange"],Oe=Ze((()=>(0,r._)("span",{class:"checkbox-custom"},null,-1))),Re={class:"label"};function ze(e,t,i,o,l,n){return(0,r.wg)(),(0,r.iD)("div",Le,[(0,r._)("div",$e,[(0,r.Uk)((0,b.zw)(e.currentTitle)+" ",1),je]),(0,r.Wm)(s.uT,{name:"fade"},{default:(0,r.w5)((()=>[e.state?((0,r.wg)(),(0,r.iD)("div",qe,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.itemsList,((t,i)=>((0,r.wg)(),(0,r.iD)("label",{class:"item",key:t},[(0,r._)("input",{type:"checkbox",class:"checkbox-original",checked:e.itemsStates[i],onChange:t=>e.change(t,i)},null,40,We),Oe,(0,r._)("div",Re,(0,b.zw)(t),1)])))),128))])):(0,r.kq)("",!0)])),_:1})])}var Ue,Ye;let Ne=(Ue=(0,n.Ei)({components:{},props:{title:{type:String,default:""},state:{type:Boolean,default:!1},itemsList:{type:Array,default:[]},itemsStates:{type:Array,default:[]}},emits:["change-sort","click-outside"],watch:{state(e){let t=document.getElementById("chevron-icon");t.style.transform=e?"rotate(180deg)":"rotate(0deg)"}}}),Ue(Ye=class extends n.w3{constructor(...e){super(...e),(0,l.Z)(this,"state",!1),(0,l.Z)(this,"checkList",[!0,...new Array(this.$props.itemsList.length-1).fill(!1)])}created(){window.addEventListener("mouseup",this.checkIsClickOut)}mounted(){this.checkList=Array(this.$props.itemsList.length).fill(!1)}beforeUnmount(){window.removeEventListener("mouseup",this.checkIsClickOut)}get currentTitle(){let e;return this.$props.itemsStates.forEach(((t,i)=>{t&&(e=this.$props.itemsList[i])})),e}change(e,t){this.state=!1,this.checkList[t]!==e.target.checked&&(this.checkList=new Array(this.$props.itemsList.length).fill(!1),this.checkList[t]=e.target.checked,this.$emit("change-sort",this.checkList))}checkIsClickOut(e){let t=document.getElementById("sub-block");if(this.state){if(null!==t){let i=t.getBoundingClientRect().left,s=t.getBoundingClientRect().right,r=t.getBoundingClientRect().top,o=t.getBoundingClientRect().bottom,l=e.x,n=e.y;l>=i&&l<=s&&n<=o&&n>=r||(this.state=!1)}}else{t=document.getElementById("main-button");let i=t?.getBoundingClientRect().left,s=t?.getBoundingClientRect().right,r=t?.getBoundingClientRect().top,o=t?.getBoundingClientRect().bottom,l=e.x,n=e.y;l>=i&&l<=s&&n<=o&&n>=r&&(this.state=!0)}}})||Ye);const Ke=(0,A.Z)(Ne,[["render",ze],["__scopeId","data-v-27615e3e"]]);var Ve=Ke;const Xe={class:"main-header"};function Ge(e,t,i,s,o,l){return(0,r.wg)(),(0,r.iD)("div",Xe,[(0,r.WI)(e.$slots,"title",{},void 0,!0),(0,r.WI)(e.$slots,"button",{},void 0,!0)])}var Je,Qe;let et=(Je=(0,n.Ei)({components:{},props:{},emits:[],watch:{}}),Je(Qe=class extends n.w3{})||Qe);const tt=(0,A.Z)(et,[["render",Ge],["__scopeId","data-v-3d3cb60b"]]);var it=tt;const st="productdb",rt="products",ot=1;let lt;class nt{async getDb(){return new Promise(((e,t)=>{if(lt)return e(lt);const i=window.indexedDB.open(st,ot);i.onerror=e=>{console.log("Error opening db",e),t("Error")},i.onsuccess=t=>{lt=t.target.result,e(lt)},i.onupgradeneeded=e=>{let t=e.target.result;t.createObjectStore(rt,{autoIncrement:!0,keyPath:"id"})}}))}async removeItem(e){const t=await this.getDb();return new Promise((i=>{const s=t.transaction([rt],"readwrite");s.oncomplete=()=>{i()};const r=s.objectStore(rt);r.delete(e.id)}))}async getAll(){let e=await this.getDb();return new Promise((t=>{let i=e.transaction([rt],"readonly");i.oncomplete=()=>{t(r)};const s=i.objectStore(rt),r=[];s.openCursor().onsuccess=e=>{const t=e.target.result;t&&(r.push(t.value),t.continue())}}))}async addItem(e){let t=await this.getDb(),i=t.transaction(["products"],"readwrite"),s=i.objectStore("products");s.add(e),i.oncomplete=()=>{console.log("stored note!")},i.onerror=e=>{console.log("error storing note ",e.target.errorCode)}}}var at,ct;let dt=(at=(0,n.Ei)({components:{MainHeader:it,AddNewProductComponent:G,ProductCard:fe,ScrollbarComponent:He,SortSelectComponent:Ve},props:{},emits:[],watch:{}}),at(ct=class extends n.w3{constructor(...e){super(...e),(0,l.Z)(this,"scroll_wrapper_ref",null),(0,l.Z)(this,"db",new nt),(0,l.Z)(this,"sortTypes",["По умолчанию","По имени","Дешевле","Дороже"]),(0,l.Z)(this,"sortStates",[!0,!1,!1,!1]),(0,l.Z)(this,"products",null),(0,l.Z)(this,"addresses",["https://ipac67.ru/image/cache/data/product/iPhone/iPhone-13-pro/green13pro-700x700.jpg","https://ipac67.ru/image/cache/data/product/xiaomi/fd172cd0c6e5797cd3662bc88f8a8699-700x700.jpg","https://ipac67.ru/image/cache/data/product/homepod/homebl-700x700.png","https://ipac67.ru/image/cache/data/product/Charge/zashhitnoe-steklo-apple-ipad-air-2019-700x700.jpg","https://ipac67.ru/image/cache/data/product/ipad/pencil21-700x700.jpg","https://ipac67.ru/image/cache/data/product/xiaomi/70mai_dash_cam_a400_seriy4-800x800-1-700x700.jpg","https://ipac67.ru/image/cache/data/product/xiaomi/EDA001113501A-700x700.jpg","https://ipac67.ru/image/cache/data/li/aks/17340663-700x700.jpeg","https://ipac67.ru/image/cache/data/product/iPhone/airtag/1111-700x700.jpg","https://ipac67.ru/image/cache/data/product/ipad/aks/%20Smart%20Keyboard_1-700x700.jpeg","https://ipac67.ru/image/cache/data/li/default/%20Xiaomi%20-700x700.png"])}async mounted(){if(this.products=await this.db.getAll(),0===this.products.length){for(let e=0;e<this.addresses.length;e++){console.log("i",(new Date).getTime());let t={desc:"Описание товара по умолчанию должно содержать не менее пяти слов",id:e,img:this.addresses[e],name:`Имя товара ${1+Math.floor(1+100*Math.random())}`,price:Math.floor(10+2e5*Math.random()).toString()};await this.addNewCard(t)}this.products=await this.db.getAll(),this.sort()}}async addNewCard(e){const t=e;t.id=(new Date).getTime(),await this.db.addItem(t),this.products=await this.db.getAll(),this.sort()}async removeCard(e){await this.db.removeItem(e),this.products=await this.db.getAll(),this.sort()}changeSortType(e){this.sortStates=e,this.sort()}sort(){this.sortStates.forEach(((e,t)=>{if(e)switch(t){case 0:this.products.sort(((e,t)=>e.id-t.id));break;case 1:this.products=this.products.sort((function(e,t){return e.name.localeCompare(t.name)}));break;case 2:this.products.sort(((e,t)=>parseInt(e.price.replace(/ /g,""))-parseInt(t.price.replace(/ /g,""))));break;case 3:this.products.sort(((e,t)=>parseInt(t.price.replace(/ /g,""))-parseInt(e.price.replace(/ /g,""))));break}}))}})||ct);const ht=(0,A.Z)(dt,[["render",v],["__scopeId","data-v-105b2a92"]]);var ut=ht,pt=i.p+"img/ida-project-logo.cfe3f0a9.png";const mt=e=>((0,r.dD)("data-v-0c2ff6c8"),e=e(),(0,r.Cn)(),e),gt={class:"preloader"},vt=mt((()=>(0,r._)("div",{class:"preloader-content"},[(0,r._)("div",{class:"logo"},[(0,r._)("img",{src:pt,id:"chevron-icon",alt:"Удалить товар",height:"44",width:"90"})]),(0,r._)("div",{class:"loading"},[(0,r._)("span"),(0,r._)("span"),(0,r._)("span")])],-1))),ft=[vt];function wt(e,t,i,s,o,l){return(0,r.wg)(),(0,r.iD)("div",gt,ft)}var bt,xt;let Et=(bt=(0,n.Ei)({components:{},props:{},emits:[],watch:{}}),bt(xt=class extends n.w3{})||xt);const yt=(0,A.Z)(Et,[["render",wt],["__scopeId","data-v-0c2ff6c8"]]);var Ct,kt,_t=yt;let Mt=(Ct=(0,n.Ei)({components:{MainView:ut,Preloader:_t},props:{},emits:[],watch:{}}),Ct(kt=class extends n.w3{constructor(...e){super(...e),(0,l.Z)(this,"isLoaded",!1)}mounted(){setTimeout((()=>{this.isLoaded=!0}),1500)}})||kt);const Ft=(0,A.Z)(Mt,[["render",o]]);var Dt=Ft,St=i(5431);(0,St.z)("service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var It=i(678);const Bt=[{path:"/",name:"home",component:ut}],Tt=(0,It.p7)({history:(0,It.r5)(),routes:Bt});var At=Tt;(0,s.ri)(Dt).use(At).mount("#app")}},t={};function i(s){var r=t[s];if(void 0!==r)return r.exports;var o=t[s]={exports:{}};return e[s](o,o.exports,i),o.exports}i.m=e,function(){var e=[];i.O=function(t,s,r,o){if(!s){var l=1/0;for(d=0;d<e.length;d++){s=e[d][0],r=e[d][1],o=e[d][2];for(var n=!0,a=0;a<s.length;a++)(!1&o||l>=o)&&Object.keys(i.O).every((function(e){return i.O[e](s[a])}))?s.splice(a--,1):(n=!1,o<l&&(l=o));if(n){e.splice(d--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[s,r,o]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.p=""}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,s){var r,o,l=s[0],n=s[1],a=s[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(r in n)i.o(n,r)&&(i.m[r]=n[r]);if(a)var d=a(i)}for(t&&t(s);c<l.length;c++)o=l[c],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return i.O(d)},s=self["webpackChunkidaproject_test"]=self["webpackChunkidaproject_test"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=i.O(void 0,[998],(function(){return i(6462)}));s=i.O(s)})();
//# sourceMappingURL=app.12ab166a.js.map